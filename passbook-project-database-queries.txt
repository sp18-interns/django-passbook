create table user_credentials(
user_id serial primary key,
username varchar(25),
password text
);


select * from user_credentials uc ;
alter table user_credentials add column email varchar(255) unique not null;

create table user_profile(
user_profile_id serial primary key,
user_name varchar(50),
mobile_number decimal(10),
address varchar(300),
aadhar_number decimal(12) unique not null,
pan_number char(10) unique not null,
user_id int,
CONSTRAINT fk_user_profile foreign key(user_id) references user_credentials(user_id)
);

select * from user_profile 


drop table txn_type CASCADE;

insert into txn_type(txn_type_id, txn_name)
values
(1,'credit'),
(2,'debit');



create table user_transactions(
user_transactions_id serial primary key,
txn_date timestamp not null,
credit decimal(10,2) not null,
debit decimal(10,2) not null,
remarks text not null,
user_id int not null,
CONSTRAINT fk_user_transactions foreign key(user_id) references user_credentials(user_id),
txn_type_id int not null,
CONSTRAINT fk_user_transactions2 foreign key(txn_type_id) references txn_type(txn_type_id)
);

create type transact as enum('credit','debit');

alter table user_transactions drop column txn_date, drop column txn_type_id;
alter table user_transactions add column transaction_date timestamptz, add column transaction_type transact;
select * from user_transactions ut ;
alter table user_transactions  drop column credit, drop column debit;
